# 18 주소 변환의 원리
하드웨어-기반 주소 변환 (주소 변환) : 명령어 반입, 탑재, 저장 등의 가상 주소를 물리 주소로 변환
프로그램의 모든 메모리 참조를 실제 메모리 위치로 재지정하기 위해서 하드웨어가 주소를 변환한다.

프로그램이 자신의 전용 메모리를 소유하고 그 안에 자신의 코드와 데이터가 있다는 환상을 만든다 - 많은 프로그램이 메모리를 공유한다.

# 18.1 가정
사용자 주소 공간이 물리 메모리에 연속적으로 배치되어야 한다고 가정
주소 공간은 물리 메모리 크기보다 작다고 가정
또한 각 주소 공간의 크기가 같다고 가정

# 18.2 사례
프로세스 주소 공간이 실제로는 다른 물리 주소에 배치되어 있을 때, 주소 0번지부터 시작하는 가상 주소 공간의 환상을 어떻게 제공할 수 있을까?

# 18.3 동적 (하드웨어-기반) 재배치
각 CPU마다 2개의 하드웨어 레지스터가 필요하다. 하나는 베이스 레지스터, 하나는 바운드 레지스터 -> 이 레지스터 쌍이 우리가 원하는 위치에 주소 공간을 배치할 수 있게 한다.
또한 배치와 동시에 프로세스가 오직 자신의 주소 공간에만 접근한다는 것을 보장한다.
1. 프로그램이 탑제될 물리 메모리 위치를 운영체제가 정하고, 베이스 레지스터를 그 주소로 지정한다.
2. 하드웨어는 베이스 레지스터의 내용을 가상 주소에 더해서 물리 주소를 생성한다.
3. 이 주소의 재배치는 실행 시에 일어나고 프로세스가 실행을 시작한 이후에도 주소 공간을 이동할 수 있기 때문에 동적 재배치라고 불린다.

바운드 레지스터 : 레지스터 보호를 지원하기 위해 존재한다. (프로세서는 먼저 메모리 참조가 합법적인가를 확인하기 위해 가상 주소가 바운드 안에 있는지 확인한다.)
